<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.5.7.1">
  <compounddef id="test__configurable__hash_8c" kind="file">
    <compoundname>test_configurable_hash.c</compoundname>
    <includes local="no">stdio.h</includes>
    <includes local="no">stdlib.h</includes>
    <includes local="no">strings.h</includes>
    <includes local="no">string.h</includes>
    <includes local="no">errno.h</includes>
    <includes local="yes">HashTable.h</includes>
    <includes local="yes">MesureTemps.h</includes>
    <includes local="yes">BuddyMalloc.h</includes>
    <incdepgraph>
      <node id="29">
        <label>stdlib.h</label>
      </node>
      <node id="32">
        <label>errno.h</label>
      </node>
      <node id="27">
        <label>test_configurable_hash.c</label>
        <link refid="test_configurable_hash.c"/>
        <childnode refid="28" relation="include">
        </childnode>
        <childnode refid="29" relation="include">
        </childnode>
        <childnode refid="30" relation="include">
        </childnode>
        <childnode refid="31" relation="include">
        </childnode>
        <childnode refid="32" relation="include">
        </childnode>
        <childnode refid="33" relation="include">
        </childnode>
        <childnode refid="34" relation="include">
        </childnode>
        <childnode refid="35" relation="include">
        </childnode>
      </node>
      <node id="35">
        <label>BuddyMalloc.h</label>
      </node>
      <node id="31">
        <label>string.h</label>
      </node>
      <node id="33">
        <label>HashTable.h</label>
      </node>
      <node id="34">
        <label>MesureTemps.h</label>
      </node>
      <node id="30">
        <label>strings.h</label>
      </node>
      <node id="28">
        <label>stdio.h</label>
      </node>
    </incdepgraph>
      <sectiondef kind="define">
      <memberdef kind="define" id="test__configurable__hash_8c_1799f2d62ff1a8069195e037a3b7905ae" prot="public" static="no">
        <name>LENBUF</name>
        <initializer>256</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="139" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="139" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" prot="public" static="no">
        <name>STRSIZE</name>
        <initializer>10</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="140" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="140" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_103d9dd35a7b43ebc597de16d46a0e845" prot="public" static="no">
        <name>MAXTEST</name>
        <initializer>10000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="141" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="141" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_1428c97a2aa1643805f8b16275c702607" prot="public" static="no">
        <name>MAXDESTROY</name>
        <initializer>5</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="142" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="142" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_17d82597c4bd22fe023995390a5a90f95" prot="public" static="no">
        <name>MAXGET</name>
        <initializer>3</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="143" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="143" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_186ddf7c36b9a7e599bb04786c61b0370" prot="public" static="no">
        <name>NB_PREALLOC</name>
        <initializer>10000</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="144" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="144" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_1c4add2a227a10511e0128d63952030e8" prot="public" static="no">
        <name>PRIME</name>
        <initializer>3</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="145" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="145" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_1b2da1e226a5beeff3269ec19b1f2b0b9" prot="public" static="no">
        <name>CRITERE</name>
        <initializer>12</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="146" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="146" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_1d449333f1ec8fe49765893cc1980d94d" prot="public" static="no">
        <name>CRITERE_2</name>
        <initializer>14</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="147" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="147" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_1d6b7282e7c215186f8514097b04d5bfa" prot="public" static="no">
        <name>Mem_Alloc</name>
        <param><defname>a</defname></param>
        <initializer>BuddyMalloc( a )</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="155" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="155" bodyend="-1"/>
      </memberdef>
      <memberdef kind="define" id="test__configurable__hash_8c_14e6d06ceac8fce7d7b9dde85e225ad4a" prot="public" static="no">
        <name>Mem_Free</name>
        <param><defname>a</defname></param>
        <initializer>BuddyFree( a )</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="156" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="156" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="test__configurable__hash_8c_1f183d0c5e0c482d0f02845db8a2f785c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int compare_string_buffer</definition>
        <argsstring>(hash_buffer_t *buff1, hash_buffer_t *buff2)</argsstring>
        <name>compare_string_buffer</name>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buff1</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buff2</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="160" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="159" bodyend="172"/>
      </memberdef>
      <memberdef kind="function" id="test__configurable__hash_8c_1d9a0e7d500dc83e14095e7c90c40c5b9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int display_buff</definition>
        <argsstring>(hash_buffer_t *pbuff, char *str)</argsstring>
        <name>display_buff</name>
        <param>
          <type>hash_buffer_t *</type>
          <declname>pbuff</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>str</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="175" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="174" bodyend="177"/>
      </memberdef>
      <memberdef kind="function" id="group__HashTableInternalFunctions_1gf42a323dd4a2c336ce843bddf643be43" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned long</type>
        <definition>unsigned long simple_hash_func</definition>
        <argsstring>(hash_parameter_t *p_hparam, hash_buffer_t *buffclef)</argsstring>
        <name>simple_hash_func</name>
        <param>
          <type>hash_parameter_t *</type>
          <declname>p_hparam</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buffclef</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>simple_hash_func: A template hash function, which considers the hash key as a polynom</para><para>A template hash function, which considers the hash key as a polynom. we are supposed to managed string written with ht-&gt;alphabet_length different characters We turn the string into a binary by computing str[0]+str[1]*ht-&gt;alphabet_length+str[2]*ht-&gt;alphabet_length**2 + ... ... + str[N]*ht-&gt;alphabet_length**N Then we keep the modulo by index_size. This size has to be a prime integer for performance reason The polynome is computed with the Horner&apos;s method.</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>hparam</parametername>
</parameternamelist>
<parameterdescription>
<para>the parameter structure that was used to define the hashtable </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>buffclef</parametername>
</parameternamelist>
<parameterdescription>
<para>the key to compute the hash value on</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the hash value</para></simplesect>
<simplesect kind="see"><para><ref refid="group__HashTableInternalFunctions_1gee806584243af84ca21ae138d816a7e7" kindref="member">double_hash_func</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="179" bodyfile="/export/GANESHA/src/HashTable/HashTable.c" bodystart="278" bodyend="297"/>
      </memberdef>
      <memberdef kind="function" id="group__HashTableInternalFunctions_1gee806584243af84ca21ae138d816a7e7" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned long</type>
        <definition>unsigned long double_hash_func</definition>
        <argsstring>(hash_parameter_t *p_hparam, hash_buffer_t *buffclef)</argsstring>
        <name>double_hash_func</name>
        <param>
          <type>hash_parameter_t *</type>
          <declname>p_hparam</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buffclef</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>double_hash_func: This function is used for double hashing, based on another hash function.</para><para>This functions uses the hash function contained in hparam to compute a first hash value, then use it to compute a second value like this: h = ( firsthash + ( 8 - ( firsthash % 8 ) ) ) % hparam.index_size This operation just changes the last 3 bits, but it can be demonstrated that this produced a more efficient and better balanced hash function (See &apos;Algorithm in C&apos;, Robert Sedjewick for more detail on this).</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>hparam</parametername>
</parameternamelist>
<parameterdescription>
<para>the parameter structure that was used to define the hashtable </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>buffclef</parametername>
</parameternamelist>
<parameterdescription>
<para>the key to compute the hash value on</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the hash value</para></simplesect>
<simplesect kind="see"><para><ref refid="group__HashTableInternalFunctions_1gee806584243af84ca21ae138d816a7e7" kindref="member">double_hash_func</ref> </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="180" bodyfile="/export/GANESHA/src/HashTable/HashTable.c" bodystart="315" bodyend="330"/>
      </memberdef>
      <memberdef kind="function" id="group__HashTableInternalFunctions_1g1aca4ae1fbd881eb69310b3a18375321" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>unsigned long</type>
        <definition>unsigned long rbt_hash_func</definition>
        <argsstring>(hash_parameter_t *p_hparam, hash_buffer_t *buffclef)</argsstring>
        <name>rbt_hash_func</name>
        <param>
          <type>hash_parameter_t *</type>
          <declname>p_hparam</declname>
        </param>
        <param>
          <type>hash_buffer_t *</type>
          <declname>buffclef</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>rbt_hash_func: Another hash junction, but to be used for the red-black trees managed internally.</para><para>This library uses red-black trees to store data. RB trees use key data too. The hash function has to be different than the one used for find the RB Tree, if not all the entry in the tree will have the same hash value which will lead to a very unbalanced tree</para><para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>hparam</parametername>
</parameternamelist>
<parameterdescription>
<para>the parameter structure that was used to define the hashtable </para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>buffclef</parametername>
</parameternamelist>
<parameterdescription>
<para>the key to compute the hash value on</para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>the hash value </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="181" bodyfile="/export/GANESHA/src/HashTable/HashTable.c" bodystart="345" bodyend="350"/>
      </memberdef>
      <memberdef kind="function" id="test__configurable__hash_8c_13bffceb3f720af7648080322f59db3a6" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int do_get</definition>
        <argsstring>(hash_table_t *ht, int key, int *pval)</argsstring>
        <name>do_get</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>int *</type>
          <declname>pval</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="184" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="183" bodyend="201"/>
      </memberdef>
      <memberdef kind="function" id="test__configurable__hash_8c_120e86e8b8ecadf6a9b33b9a17287699a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int do_set</definition>
        <argsstring>(hash_table_t *ht, int key, int val)</argsstring>
        <name>do_set</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>int</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="204" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="203" bodyend="223"/>
      </memberdef>
      <memberdef kind="function" id="test__configurable__hash_8c_1cf576a787ddf26b8190fa8dcf589ba81" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int do_new</definition>
        <argsstring>(hash_table_t *ht, int key, int val)</argsstring>
        <name>do_new</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>int</type>
          <declname>key</declname>
        </param>
        <param>
          <type>int</type>
          <declname>val</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="226" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="225" bodyend="242"/>
      </memberdef>
      <memberdef kind="function" id="test__configurable__hash_8c_1ec7e06cf1eb3d581149a1f9f9efa989f" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int do_del</definition>
        <argsstring>(hash_table_t *ht, int key)</argsstring>
        <name>do_del</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>int</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="245" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="244" bodyend="255"/>
      </memberdef>
      <memberdef kind="function" id="test__configurable__hash_8c_19cdbf52d290b3c15a7498a6f6f5c76a1" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int do_test</definition>
        <argsstring>(hash_table_t *ht, int key)</argsstring>
        <name>do_test</name>
        <param>
          <type>hash_table_t *</type>
          <declname>ht</declname>
        </param>
        <param>
          <type>int</type>
          <declname>key</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="258" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="257" bodyend="269"/>
      </memberdef>
      <memberdef kind="function" id="test__configurable__hash_8c_10ddf1224851353fc92bfbff6f499fa97" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int main</definition>
        <argsstring>(int argc, char *argv[])</argsstring>
        <name>main</name>
        <param>
          <type>int</type>
          <declname>argc</declname>
        </param>
        <param>
          <type>char *</type>
          <declname>argv</declname>
          <array>[]</array>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c" line="273" bodyfile="/export/GANESHA/src/HashTable/test_configurable_hash.c" bodystart="272" bodyend="505"/>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>*<sp/>vim:expandtab:shiftwidth=8:tabstop=8:</highlight></codeline>
<codeline lineno="3"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>CEA/DAM/DIF<sp/><sp/>(2008)</highlight></codeline>
<codeline lineno="5"><highlight class="comment"><sp/>*<sp/>contributeur<sp/>:<sp/>Philippe<sp/>DENIEL<sp/><sp/><sp/>philippe.deniel@cea.fr</highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Thomas<sp/>LEIBOVICI<sp/><sp/>thomas.leibovici@cea.fr</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="9"><highlight class="comment"><sp/>*<sp/>Ce<sp/>logiciel<sp/>est<sp/>un<sp/>serveur<sp/>implementant<sp/>le<sp/>protocole<sp/>NFS.</highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>*<sp/>Ce<sp/>logiciel<sp/>est<sp/>régi<sp/>par<sp/>la<sp/>licence<sp/>CeCILL<sp/>soumise<sp/>au<sp/>droit<sp/>français<sp/>et</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>*<sp/>respectant<sp/>les<sp/>principes<sp/>de<sp/>diffusion<sp/>des<sp/>logiciels<sp/>libres.<sp/>Vous<sp/>pouvez</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>*<sp/>utiliser,<sp/>modifier<sp/>et/ou<sp/>redistribuer<sp/>ce<sp/>programme<sp/>sous<sp/>les<sp/>conditions</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>*<sp/>de<sp/>la<sp/>licence<sp/>CeCILL<sp/>telle<sp/>que<sp/>diffusée<sp/>par<sp/>le<sp/>CEA,<sp/>le<sp/>CNRS<sp/>et<sp/>l&apos;INRIA</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>*<sp/>sur<sp/>le<sp/>site<sp/>&quot;http://www.cecill.info&quot;.</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="17"><highlight class="comment"><sp/>*<sp/>En<sp/>contrepartie<sp/>de<sp/>l&apos;accessibilité<sp/>au<sp/>code<sp/>source<sp/>et<sp/>des<sp/>droits<sp/>de<sp/>copie,</highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*<sp/>de<sp/>modification<sp/>et<sp/>de<sp/>redistribution<sp/>accordés<sp/>par<sp/>cette<sp/>licence,<sp/>il<sp/>n&apos;est</highlight></codeline>
<codeline lineno="19"><highlight class="comment"><sp/>*<sp/>offert<sp/>aux<sp/>utilisateurs<sp/>qu&apos;une<sp/>garantie<sp/>limitée.<sp/><sp/>Pour<sp/>les<sp/>mêmes<sp/>raisons,</highlight></codeline>
<codeline lineno="20"><highlight class="comment"><sp/>*<sp/>seule<sp/>une<sp/>responsabilité<sp/>restreinte<sp/>pèse<sp/>sur<sp/>l&apos;auteur<sp/>du<sp/>programme,<sp/><sp/>le</highlight></codeline>
<codeline lineno="21"><highlight class="comment"><sp/>*<sp/>titulaire<sp/>des<sp/>droits<sp/>patrimoniaux<sp/>et<sp/>les<sp/>concédants<sp/>successifs.</highlight></codeline>
<codeline lineno="22"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="23"><highlight class="comment"><sp/>*<sp/>A<sp/>cet<sp/>égard<sp/><sp/>l&apos;attention<sp/>de<sp/>l&apos;utilisateur<sp/>est<sp/>attirée<sp/>sur<sp/>les<sp/>risques</highlight></codeline>
<codeline lineno="24"><highlight class="comment"><sp/>*<sp/>associés<sp/>au<sp/>chargement,<sp/><sp/>à<sp/>l&apos;utilisation,<sp/><sp/>à<sp/>la<sp/>modification<sp/>et/ou<sp/>au</highlight></codeline>
<codeline lineno="25"><highlight class="comment"><sp/>*<sp/>développement<sp/>et<sp/>à<sp/>la<sp/>reproduction<sp/>du<sp/>logiciel<sp/>par<sp/>l&apos;utilisateur<sp/>étant</highlight></codeline>
<codeline lineno="26"><highlight class="comment"><sp/>*<sp/>donné<sp/>sa<sp/>spécificité<sp/>de<sp/>logiciel<sp/>libre,<sp/>qui<sp/>peut<sp/>le<sp/>rendre<sp/>complexe<sp/>à</highlight></codeline>
<codeline lineno="27"><highlight class="comment"><sp/>*<sp/>manipuler<sp/>et<sp/>qui<sp/>le<sp/>réserve<sp/>donc<sp/>à<sp/>des<sp/>développeurs<sp/>et<sp/>des<sp/>professionnels</highlight></codeline>
<codeline lineno="28"><highlight class="comment"><sp/>*<sp/>avertis<sp/>possédant<sp/><sp/>des<sp/><sp/>connaissances<sp/><sp/>informatiques<sp/>approfondies.<sp/><sp/>Les</highlight></codeline>
<codeline lineno="29"><highlight class="comment"><sp/>*<sp/>utilisateurs<sp/>sont<sp/>donc<sp/>invités<sp/>à<sp/>charger<sp/><sp/>et<sp/><sp/>tester<sp/><sp/>l&apos;adéquation<sp/><sp/>du</highlight></codeline>
<codeline lineno="30"><highlight class="comment"><sp/>*<sp/>logiciel<sp/>à<sp/>leurs<sp/>besoins<sp/>dans<sp/>des<sp/>conditions<sp/>permettant<sp/>d&apos;assurer<sp/>la</highlight></codeline>
<codeline lineno="31"><highlight class="comment"><sp/>*<sp/>sécurité<sp/>de<sp/>leurs<sp/>systèmes<sp/>et<sp/>ou<sp/>de<sp/>leurs<sp/>données<sp/>et,<sp/>plus<sp/>généralement,</highlight></codeline>
<codeline lineno="32"><highlight class="comment"><sp/>*<sp/>à<sp/>l&apos;utiliser<sp/>et<sp/>l&apos;exploiter<sp/>dans<sp/>les<sp/>mêmes<sp/>conditions<sp/>de<sp/>sécurité.</highlight></codeline>
<codeline lineno="33"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="34"><highlight class="comment"><sp/>*<sp/>Le<sp/>fait<sp/>que<sp/>vous<sp/>puissiez<sp/>accéder<sp/>à<sp/>cet<sp/>en-tête<sp/>signifie<sp/>que<sp/>vous<sp/>avez</highlight></codeline>
<codeline lineno="35"><highlight class="comment"><sp/>*<sp/>pris<sp/>connaissance<sp/>de<sp/>la<sp/>licence<sp/>CeCILL,<sp/>et<sp/>que<sp/>vous<sp/>en<sp/>avez<sp/>accepté<sp/>les</highlight></codeline>
<codeline lineno="36"><highlight class="comment"><sp/>*<sp/>termes.</highlight></codeline>
<codeline lineno="37"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="38"><highlight class="comment"><sp/>*<sp/>---------------------</highlight></codeline>
<codeline lineno="39"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="40"><highlight class="comment"><sp/>*<sp/>Copyright<sp/>CEA/DAM/DIF<sp/>(2005)</highlight></codeline>
<codeline lineno="41"><highlight class="comment"><sp/>*<sp/><sp/>Contributor:<sp/>Philippe<sp/>DENIEL<sp/><sp/>philippe.deniel@cea.fr</highlight></codeline>
<codeline lineno="42"><highlight class="comment"><sp/>*<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>Thomas<sp/>LEIBOVICI<sp/>thomas.leibovici@cea.fr</highlight></codeline>
<codeline lineno="43"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="44"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="45"><highlight class="comment"><sp/>*<sp/>This<sp/>software<sp/>is<sp/>a<sp/>server<sp/>that<sp/>implements<sp/>the<sp/>NFS<sp/>protocol.</highlight></codeline>
<codeline lineno="46"><highlight class="comment"><sp/>*<sp/></highlight></codeline>
<codeline lineno="47"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="48"><highlight class="comment"><sp/>*<sp/>This<sp/>software<sp/>is<sp/>governed<sp/>by<sp/>the<sp/>CeCILL<sp/><sp/>license<sp/>under<sp/>French<sp/>law<sp/>and</highlight></codeline>
<codeline lineno="49"><highlight class="comment"><sp/>*<sp/>abiding<sp/>by<sp/>the<sp/>rules<sp/>of<sp/>distribution<sp/>of<sp/>free<sp/>software.<sp/><sp/>You<sp/>can<sp/><sp/>use,</highlight></codeline>
<codeline lineno="50"><highlight class="comment"><sp/>*<sp/>modify<sp/>and/<sp/>or<sp/>redistribute<sp/>the<sp/>software<sp/>under<sp/>the<sp/>terms<sp/>of<sp/>the<sp/>CeCILL</highlight></codeline>
<codeline lineno="51"><highlight class="comment"><sp/>*<sp/>license<sp/>as<sp/>circulated<sp/>by<sp/>CEA,<sp/>CNRS<sp/>and<sp/>INRIA<sp/>at<sp/>the<sp/>following<sp/>URL</highlight></codeline>
<codeline lineno="52"><highlight class="comment"><sp/>*<sp/>&quot;http://www.cecill.info&quot;.</highlight></codeline>
<codeline lineno="53"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="54"><highlight class="comment"><sp/>*<sp/>As<sp/>a<sp/>counterpart<sp/>to<sp/>the<sp/>access<sp/>to<sp/>the<sp/>source<sp/>code<sp/>and<sp/><sp/>rights<sp/>to<sp/>copy,</highlight></codeline>
<codeline lineno="55"><highlight class="comment"><sp/>*<sp/>modify<sp/>and<sp/>redistribute<sp/>granted<sp/>by<sp/>the<sp/>license,<sp/>users<sp/>are<sp/>provided<sp/>only</highlight></codeline>
<codeline lineno="56"><highlight class="comment"><sp/>*<sp/>with<sp/>a<sp/>limited<sp/>warranty<sp/><sp/>and<sp/>the<sp/>software&apos;s<sp/>author,<sp/><sp/>the<sp/>holder<sp/>of<sp/>the</highlight></codeline>
<codeline lineno="57"><highlight class="comment"><sp/>*<sp/>economic<sp/>rights,<sp/><sp/>and<sp/>the<sp/>successive<sp/>licensors<sp/><sp/>have<sp/>only<sp/><sp/>limited</highlight></codeline>
<codeline lineno="58"><highlight class="comment"><sp/>*<sp/>liability.</highlight></codeline>
<codeline lineno="59"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="60"><highlight class="comment"><sp/>*<sp/>In<sp/>this<sp/>respect,<sp/>the<sp/>user&apos;s<sp/>attention<sp/>is<sp/>drawn<sp/>to<sp/>the<sp/>risks<sp/>associated</highlight></codeline>
<codeline lineno="61"><highlight class="comment"><sp/>*<sp/>with<sp/>loading,<sp/><sp/>using,<sp/><sp/>modifying<sp/>and/or<sp/>developing<sp/>or<sp/>reproducing<sp/>the</highlight></codeline>
<codeline lineno="62"><highlight class="comment"><sp/>*<sp/>software<sp/>by<sp/>the<sp/>user<sp/>in<sp/>light<sp/>of<sp/>its<sp/>specific<sp/>status<sp/>of<sp/>free<sp/>software,</highlight></codeline>
<codeline lineno="63"><highlight class="comment"><sp/>*<sp/>that<sp/>may<sp/>mean<sp/><sp/>that<sp/>it<sp/>is<sp/>complicated<sp/>to<sp/>manipulate,<sp/><sp/>and<sp/><sp/>that<sp/><sp/>also</highlight></codeline>
<codeline lineno="64"><highlight class="comment"><sp/>therefore<sp/>means<sp/><sp/>that<sp/>it<sp/>is<sp/>reserved<sp/>for<sp/>developers<sp/><sp/>and<sp/><sp/>experienced</highlight></codeline>
<codeline lineno="65"><highlight class="comment"><sp/>*<sp/>professionals<sp/>having<sp/>in-depth<sp/>computer<sp/>knowledge.<sp/>Users<sp/>are<sp/>therefore</highlight></codeline>
<codeline lineno="66"><highlight class="comment"><sp/>*<sp/>encouraged<sp/>to<sp/>load<sp/>and<sp/>test<sp/>the<sp/>software&apos;s<sp/>suitability<sp/>as<sp/>regards<sp/>their</highlight></codeline>
<codeline lineno="67"><highlight class="comment"><sp/>*<sp/>requirements<sp/>in<sp/>conditions<sp/>enabling<sp/>the<sp/>security<sp/>of<sp/>their<sp/>systems<sp/>and/or</highlight></codeline>
<codeline lineno="68"><highlight class="comment"><sp/>*<sp/>data<sp/>to<sp/>be<sp/>ensured<sp/>and,<sp/><sp/>more<sp/>generally,<sp/>to<sp/>use<sp/>and<sp/>operate<sp/>it<sp/>in<sp/>the</highlight></codeline>
<codeline lineno="69"><highlight class="comment"><sp/>*<sp/>same<sp/>conditions<sp/>as<sp/>regards<sp/>security.</highlight></codeline>
<codeline lineno="70"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="71"><highlight class="comment"><sp/>*<sp/>The<sp/>fact<sp/>that<sp/>you<sp/>are<sp/>presently<sp/>reading<sp/>this<sp/>means<sp/>that<sp/>you<sp/>have<sp/>had</highlight></codeline>
<codeline lineno="72"><highlight class="comment"><sp/>*<sp/>knowledge<sp/>of<sp/>the<sp/>CeCILL<sp/>license<sp/>and<sp/>that<sp/>you<sp/>accept<sp/>its<sp/>terms.</highlight></codeline>
<codeline lineno="73"><highlight class="comment"><sp/>*<sp/>---------------------------------------</highlight></codeline>
<codeline lineno="74"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="75"><highlight class="comment"><sp/>*<sp/>Source<sp/>du<sp/>test<sp/>de<sp/>la<sp/>lib<sp/>de<sp/>gestion<sp/>des<sp/>tables<sp/>de<sp/>hachage</highlight></codeline>
<codeline lineno="76"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="77"><highlight class="comment"><sp/>*<sp/>$Header:<sp/>/cea/home/cvs/cvs/SHERPA/BaseCvs/GANESHA/src/HashTable/test_configurable_hash.c,v<sp/>1.8<sp/>2006/01/27<sp/>10:28:36<sp/>deniel<sp/>Exp<sp/>$</highlight></codeline>
<codeline lineno="78"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="79"><highlight class="comment"><sp/>*<sp/>$Log:<sp/>test_configurable_hash.c,v<sp/>$</highlight></codeline>
<codeline lineno="80"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.8<sp/><sp/>2006/01/27<sp/>10:28:36<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="81"><highlight class="comment"><sp/>*<sp/>Now<sp/>support<sp/>rpm</highlight></codeline>
<codeline lineno="82"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="83"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.7<sp/><sp/>2006/01/20<sp/>07:39:22<sp/><sp/>leibovic</highlight></codeline>
<codeline lineno="84"><highlight class="comment"><sp/>*<sp/>Back<sp/>to<sp/>the<sp/>previous<sp/>version.</highlight></codeline>
<codeline lineno="85"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="86"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.5<sp/><sp/>2005/11/28<sp/>17:02:37<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="87"><highlight class="comment"><sp/>*<sp/>Added<sp/>CeCILL<sp/>headers</highlight></codeline>
<codeline lineno="88"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="89"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.4<sp/><sp/>2005/05/10<sp/>11:43:57<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="90"><highlight class="comment"><sp/>*<sp/>Datacache<sp/>and<sp/>metadatacache<sp/>are<sp/>noewqw<sp/>bounded</highlight></codeline>
<codeline lineno="91"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="92"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.3<sp/><sp/>2005/04/28<sp/>14:04:18<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="93"><highlight class="comment"><sp/>*<sp/>Modified<sp/>HashTabel_Del<sp/>prototype</highlight></codeline>
<codeline lineno="94"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="95"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.2<sp/><sp/>2004/12/08<sp/>14:49:16<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="96"><highlight class="comment"><sp/>*<sp/>Lack<sp/>of<sp/>includes<sp/>in<sp/>test_configurable_hash.c</highlight></codeline>
<codeline lineno="97"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="98"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.1<sp/><sp/>2004/09/21<sp/>12:20:45<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="99"><highlight class="comment"><sp/>*<sp/>Differentiation<sp/>des<sp/>differents<sp/>tests<sp/>configurables</highlight></codeline>
<codeline lineno="100"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="101"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.7<sp/><sp/>2004/09/21<sp/>07:23:04<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="102"><highlight class="comment"><sp/>*<sp/>Correction<sp/>du<sp/>test<sp/>de<sp/>non-regression<sp/>configurable<sp/>(routine<sp/>do_get<sp/>dans<sp/>test_configurable.c)</highlight></codeline>
<codeline lineno="103"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="104"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.6<sp/><sp/>2004/08/26<sp/>07:18:19<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="105"><highlight class="comment"><sp/>*<sp/>Mise<sp/>a<sp/>jour<sp/>du<sp/>test<sp/>configurable</highlight></codeline>
<codeline lineno="106"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="107"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.5<sp/><sp/>2004/08/26<sp/>06:52:59<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="108"><highlight class="comment"><sp/>*<sp/>Bug<sp/>tres<sp/>con<sp/>dans<sp/>HashTable.c,<sp/>au<sp/>niveau<sp/>de<sp/>hashTabel_Test_And_Set<sp/>(mauvaise<sp/>enclosure<sp/>de<sp/>#ifdef)</highlight></codeline>
<codeline lineno="109"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="110"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.4<sp/><sp/>2004/08/25<sp/>08:42:29<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="111"><highlight class="comment"><sp/>*<sp/>Ajout<sp/>de<sp/>commentaires<sp/>dans<sp/>les<sp/>tests<sp/>configurables</highlight></codeline>
<codeline lineno="112"><highlight class="comment"><sp/>*<sp/>Suppression<sp/>des<sp/>Hash<sp/>bases<sp/>sur<sp/>les<sp/>listes<sp/>chainees</highlight></codeline>
<codeline lineno="113"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="114"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.3<sp/><sp/>2004/08/25<sp/>06:21:24<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="115"><highlight class="comment"><sp/>*<sp/>Mise<sp/>en<sp/>place<sp/>du<sp/>test<sp/>configurable<sp/>ok</highlight></codeline>
<codeline lineno="116"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="117"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.2<sp/><sp/>2004/08/24<sp/>14:20:19<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="118"><highlight class="comment"><sp/>*<sp/>Ajout<sp/>d&apos;unn<sp/>nouveau<sp/>test<sp/>parametrable</highlight></codeline>
<codeline lineno="119"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="120"><highlight class="comment"><sp/>*<sp/>Revision<sp/>1.1<sp/><sp/>2004/08/24<sp/>12:03:09<sp/><sp/>deniel</highlight></codeline>
<codeline lineno="121"><highlight class="comment"><sp/>*<sp/>Ajout<sp/>de<sp/>test-configurable.c</highlight></codeline>
<codeline lineno="122"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="123"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="124"><highlight class="comment"><sp/>*</highlight></codeline>
<codeline lineno="125"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>HAVE_CONFIG_H</highlight></codeline>
<codeline lineno="127"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;config.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="129"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="130"><highlight class="normal"></highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdio.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="132"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;stdlib.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="133"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;strings.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="134"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;errno.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;HashTable.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;MesureTemps.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139" refid="test__configurable__hash_8c_1799f2d62ff1a8069195e037a3b7905ae" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>LENBUF<sp/>256</highlight></codeline>
<codeline lineno="140" refid="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>STRSIZE<sp/>10</highlight></codeline>
<codeline lineno="141" refid="test__configurable__hash_8c_103d9dd35a7b43ebc597de16d46a0e845" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MAXTEST<sp/>10000<sp/><sp/></highlight><highlight class="comment">/*<sp/>Plus<sp/>grand<sp/>que<sp/>MAXDESTROY<sp/>!!<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="142" refid="test__configurable__hash_8c_1428c97a2aa1643805f8b16275c702607" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>MAXDESTROY<sp/>5</highlight></codeline>
<codeline lineno="143" refid="test__configurable__hash_8c_17d82597c4bd22fe023995390a5a90f95" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>MAXGET<sp/>3</highlight></codeline>
<codeline lineno="144" refid="test__configurable__hash_8c_186ddf7c36b9a7e599bb04786c61b0370" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>NB_PREALLOC<sp/>10000</highlight></codeline>
<codeline lineno="145" refid="test__configurable__hash_8c_1c4add2a227a10511e0128d63952030e8" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>PRIME<sp/>3</highlight></codeline>
<codeline lineno="146" refid="test__configurable__hash_8c_1b2da1e226a5beeff3269ec19b1f2b0b9" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>CRITERE<sp/>12</highlight></codeline>
<codeline lineno="147" refid="test__configurable__hash_8c_1d449333f1ec8fe49765893cc1980d94d" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>CRITERE_2<sp/>14</highlight></codeline>
<codeline lineno="148"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_NO_BUDDY_SYSTEM</highlight></codeline>
<codeline lineno="150"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>Mem_Alloc(<sp/>a<sp/>)<sp/><sp/>malloc(<sp/>a<sp/>)</highlight></codeline>
<codeline lineno="151"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>Mem_Free(<sp/>a<sp/>)<sp/><sp/><sp/>free(<sp/>a<sp/>)</highlight></codeline>
<codeline lineno="152"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>BuddyErrno<sp/>errno</highlight></codeline>
<codeline lineno="153"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#else</highlight></codeline>
<codeline lineno="154"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#include<sp/>&quot;BuddyMalloc.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155" refid="test__configurable__hash_8c_1d6b7282e7c215186f8514097b04d5bfa" refkind="member"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>Mem_Alloc(<sp/>a<sp/>)<sp/>BuddyMalloc(<sp/>a<sp/>)<sp/></highlight></codeline>
<codeline lineno="156" refid="test__configurable__hash_8c_14e6d06ceac8fce7d7b9dde85e225ad4a" refkind="member"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#define<sp/>Mem_Free(<sp/>a<sp/>)<sp/>BuddyFree(<sp/>a<sp/>)<sp/></highlight></codeline>
<codeline lineno="157"><highlight class="preprocessor"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="158"><highlight class="preprocessor"></highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159" refid="test__configurable__hash_8c_1f183d0c5e0c482d0f02845db8a2f785c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__cmchash_8c_1f183d0c5e0c482d0f02845db8a2f785c" kindref="member">compare_string_buffer</ref>(<sp/><sp/>hash_buffer_t<sp/>*<sp/>buff1,<sp/>hash_buffer_t<sp/>*<sp/>buff2<sp/>)<sp/></highlight></codeline>
<codeline lineno="160"><highlight class="normal">{</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Test<sp/>if<sp/>one<sp/>of<sp/>teh<sp/>entries<sp/>are<sp/>NULL<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>buff1-&gt;pdata<sp/>==<sp/>NULL<sp/>)</highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>(<sp/>buff2-&gt;pdata<sp/>==<sp/>NULL<sp/>)<sp/>?<sp/>0<sp/>:<sp/>1<sp/>;</highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>buff2-&gt;pdata<sp/>==<sp/>NULL<sp/>)</highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1<sp/>;<sp/></highlight><highlight class="comment">/*<sp/>left<sp/>member<sp/>is<sp/>the<sp/>greater<sp/>one<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>strcmp(<sp/>buff1-&gt;pdata,<sp/>buff2-&gt;pdata<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>This<sp/>line<sp/>should<sp/>never<sp/>be<sp/>reached<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="172"><highlight class="normal">}</highlight></codeline>
<codeline lineno="173"><highlight class="normal"></highlight></codeline>
<codeline lineno="174" refid="test__configurable__hash_8c_1d9a0e7d500dc83e14095e7c90c40c5b9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__cmchash_8c_1d9a0e7d500dc83e14095e7c90c40c5b9" kindref="member">display_buff</ref>(<sp/>hash_buffer_t<sp/>*<sp/>pbuff,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>str<sp/>)</highlight></codeline>
<codeline lineno="175"><highlight class="normal">{</highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>snprintf(<sp/>str,<sp/>HASHTABLE_DISPLAY_STRLEN,<sp/></highlight><highlight class="stringliteral">&quot;%s&quot;</highlight><highlight class="normal">,<sp/>pbuff-&gt;pdata<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="177"><highlight class="normal">}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="group__HashTableInternalFunctions_1gf42a323dd4a2c336ce843bddf643be43" kindref="member">simple_hash_func</ref>(<sp/>hash_parameter_t<sp/>*<sp/>p_hparam,<sp/>hash_buffer_t<sp/>*<sp/>buffclef<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="180"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="group__HashTableInternalFunctions_1gee806584243af84ca21ae138d816a7e7" kindref="member">double_hash_func</ref>(<sp/>hash_parameter_t<sp/>*<sp/>p_hparam,<sp/>hash_buffer_t<sp/>*<sp/>buffclef<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="181"><highlight class="normal"></highlight><highlight class="keywordtype">unsigned</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">long</highlight><highlight class="normal"><sp/><ref refid="group__HashTableInternalFunctions_1g1aca4ae1fbd881eb69310b3a18375321" kindref="member">rbt_hash_func</ref>(<sp/>hash_parameter_t<sp/>*<sp/>p_hparam,<sp/>hash_buffer_t<sp/>*<sp/>buffclef<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="182"><highlight class="normal"></highlight></codeline>
<codeline lineno="183" refid="test__configurable__hash_8c_13bffceb3f720af7648080322f59db3a6" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__configurable__hash_8c_13bffceb3f720af7648080322f59db3a6" kindref="member">do_get</ref>(<sp/>hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>*<sp/>pval<sp/>)</highlight></codeline>
<codeline lineno="184"><highlight class="normal">{</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>tmpkey[<ref refid="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" kindref="member">STRSIZE</ref>]<sp/>;</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc<sp/>=<sp/>0<sp/>;</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey<sp/>;</highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffval<sp/>;</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/>sprintf(<sp/>tmpkey,<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>key<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>tmpkey<sp/>;</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/>strlen(<sp/>tmpkey<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>(<sp/>rc<sp/>=<sp/><ref refid="group__HashTableExportedFunctions_1ge002d8403bd95e1ae432333bb16ae509" kindref="member">HashTable_Get</ref>(<sp/>ht,<sp/>&amp;buffkey,<sp/>&amp;buffval<sp/>)<sp/>)<sp/>==<sp/>HASHTABLE_SUCCESS<sp/>)</highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/>*pval<sp/>=<sp/>atoi<sp/>(<sp/>buffval.pdata<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>*pval<sp/>=<sp/>-1<sp/>;</highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>rc<sp/>;</highlight></codeline>
<codeline lineno="201"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>get<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="202"><highlight class="normal"></highlight></codeline>
<codeline lineno="203" refid="test__configurable__hash_8c_120e86e8b8ecadf6a9b33b9a17287699a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__configurable__hash_8c_120e86e8b8ecadf6a9b33b9a17287699a" kindref="member">do_set</ref>(<sp/>hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>val<sp/>)</highlight></codeline>
<codeline lineno="204"><highlight class="normal">{</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>tmpkey<sp/>=<sp/>NULL<sp/>;</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>tmpval<sp/>=<sp/>NULL<sp/>;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey<sp/>;</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffval<sp/>;</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>(<sp/>(<sp/>tmpkey<sp/>=<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)<ref refid="test__configurable__hash_8c_1d6b7282e7c215186f8514097b04d5bfa" kindref="member">Mem_Alloc</ref>(<sp/><ref refid="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" kindref="member">STRSIZE</ref><sp/>)<sp/>)<sp/>==<sp/>NULL<sp/>)<sp/>||<sp/>(<sp/>(<sp/>tmpval<sp/>=<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)<ref refid="test__configurable__hash_8c_1d6b7282e7c215186f8514097b04d5bfa" kindref="member">Mem_Alloc</ref>(<sp/><ref refid="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" kindref="member">STRSIZE</ref><sp/>)<sp/>)<sp/>==<sp/>NULL<sp/>)<sp/>)</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1<sp/>;</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/>sprintf(<sp/>tmpkey,<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>key<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>tmpkey<sp/>;</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/>strlen(<sp/>tmpkey<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/>sprintf(<sp/>tmpval,<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>val<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/>buffval.pdata<sp/>=<sp/>tmpval<sp/>;</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/>buffval.len<sp/>=<sp/>strlen(<sp/>tmpval<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="221"><highlight class="normal"></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>HashTable_Set(<sp/>ht,<sp/>&amp;buffkey,<sp/>&amp;buffval<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="223"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>set<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="224"><highlight class="normal"></highlight></codeline>
<codeline lineno="225" refid="test__configurable__hash_8c_1cf576a787ddf26b8190fa8dcf589ba81" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__configurable__hash_8c_1cf576a787ddf26b8190fa8dcf589ba81" kindref="member">do_new</ref>(<sp/>hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>val<sp/>)</highlight></codeline>
<codeline lineno="226"><highlight class="normal">{</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>tmpkey[<ref refid="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" kindref="member">STRSIZE</ref>]<sp/>;</highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>tmpval[<ref refid="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" kindref="member">STRSIZE</ref>]<sp/>;</highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey<sp/>;</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffval<sp/>;</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/>sprintf(<sp/>tmpkey,<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>key<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>tmpkey<sp/>;</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/>strlen(<sp/>tmpkey<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/>sprintf(<sp/>tmpval,<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>val<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/>buffval.pdata<sp/>=<sp/>tmpval<sp/>;</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/>buffval.len<sp/>=<sp/>strlen(<sp/>tmpval<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="240"><highlight class="normal"></highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__HashTableExportedFunctions_1g9fd137ceaac7ec4918a51b59d5e73031" kindref="member">HashTable_Test_And_Set</ref>(<sp/>ht,<sp/>&amp;buffkey,<sp/>&amp;buffval,<sp/>HASHTABLE_SET_HOW_SET_NO_OVERWRITE<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="242"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>new<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="243"><highlight class="normal"></highlight></codeline>
<codeline lineno="244" refid="test__configurable__hash_8c_1ec7e06cf1eb3d581149a1f9f9efa989f" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__configurable__hash_8c_1ec7e06cf1eb3d581149a1f9f9efa989f" kindref="member">do_del</ref>(<sp/>hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key<sp/>)</highlight></codeline>
<codeline lineno="245"><highlight class="normal">{</highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>tmpkey[<ref refid="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" kindref="member">STRSIZE</ref>]<sp/>;</highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey<sp/>;</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/>sprintf(<sp/>tmpkey,<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>key<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/>buffkey.pdata<sp/>=<sp/>tmpkey<sp/>;</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/>buffkey.len<sp/>=<sp/>strlen(<sp/>tmpkey<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__HashTableExportedFunctions_1gdda0535c9f1748795d9eeb2514f5458c" kindref="member">HashTable_Del</ref>(<sp/>ht,<sp/>&amp;buffkey,<sp/>NULL,<sp/>NULL<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="255"><highlight class="normal">}<sp/></highlight><highlight class="comment">/*<sp/>set<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="256"><highlight class="normal"></highlight></codeline>
<codeline lineno="257" refid="test__configurable__hash_8c_19cdbf52d290b3c15a7498a6f6f5c76a1" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__configurable__hash_8c_19cdbf52d290b3c15a7498a6f6f5c76a1" kindref="member">do_test</ref>(<sp/>hash_table_t<sp/>*<sp/>ht,<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key<sp/>)</highlight></codeline>
<codeline lineno="258"><highlight class="normal">{</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>tmpkey[<ref refid="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" kindref="member">STRSIZE</ref>]<sp/>;</highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="261"><highlight class="normal"><sp/><sp/><sp/>hash_buffer_t<sp/>buffkey<sp/>;</highlight></codeline>
<codeline lineno="262"><highlight class="normal"><sp/><sp/><sp/>hash_buffer_t<sp/>buffval<sp/>;</highlight></codeline>
<codeline lineno="263"><highlight class="normal"><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="264"><highlight class="normal"><sp/><sp/><sp/>sprintf(<sp/>tmpkey,<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>key<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="265"><highlight class="normal"><sp/><sp/><sp/>buffkey.pdata<sp/>=<sp/>tmpkey<sp/>;</highlight></codeline>
<codeline lineno="266"><highlight class="normal"><sp/><sp/><sp/>buffkey.len<sp/>=<sp/>strlen(<sp/>tmpkey<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="267"><highlight class="normal"></highlight></codeline>
<codeline lineno="268"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/><ref refid="group__HashTableExportedFunctions_1g9fd137ceaac7ec4918a51b59d5e73031" kindref="member">HashTable_Test_And_Set</ref>(<sp/>ht,<sp/>&amp;buffkey,<sp/>&amp;buffval,<sp/>HASHTABLE_SET_HOW_TEST_ONLY<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="269"><highlight class="normal">}</highlight></codeline>
<codeline lineno="270"><highlight class="normal"></highlight></codeline>
<codeline lineno="271"><highlight class="normal"></highlight></codeline>
<codeline lineno="272" refid="test__configurable__hash_8c_10ddf1224851353fc92bfbff6f499fa97" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="test__cmchash_8c_10ddf1224851353fc92bfbff6f499fa97" kindref="member">main</ref>(<sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>argc,<sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>argv[]<sp/>)</highlight></codeline>
<codeline lineno="273"><highlight class="normal">{</highlight></codeline>
<codeline lineno="274"><highlight class="normal"><sp/><sp/>hash_table_t<sp/>*<sp/>ht<sp/>=<sp/>NULL<sp/><sp/>;</highlight></codeline>
<codeline lineno="275"><highlight class="normal"><sp/><sp/>hash_parameter_t<sp/>hparam<sp/>;</highlight></codeline>
<codeline lineno="276"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffkey<sp/>;</highlight></codeline>
<codeline lineno="277"><highlight class="normal"><sp/><sp/>hash_buffer_t<sp/>buffval<sp/>;</highlight></codeline>
<codeline lineno="278"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">Temps<sp/>debut<sp/>;</highlight></codeline>
<codeline lineno="279"><highlight class="normal"><sp/><sp/></highlight><highlight class="keyword">struct<sp/></highlight><highlight class="normal">Temps<sp/>fin<sp/>;</highlight></codeline>
<codeline lineno="280"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>i<sp/>=<sp/>0<sp/>;</highlight></codeline>
<codeline lineno="281"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>astrkey<sp/>=<sp/>NULL<sp/>;</highlight></codeline>
<codeline lineno="282"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*<sp/>astrval<sp/>=<sp/>NULL<sp/>;</highlight></codeline>
<codeline lineno="283"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>hrc<sp/>=<sp/>0<sp/>;</highlight></codeline>
<codeline lineno="284"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>rc<sp/>=<sp/>0<sp/>;</highlight></codeline>
<codeline lineno="285"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*p;</highlight></codeline>
<codeline lineno="286"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>buf[<ref refid="test__configurable__hash_8c_1799f2d62ff1a8069195e037a3b7905ae" kindref="member">LENBUF</ref>];</highlight></codeline>
<codeline lineno="287"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ok<sp/>=<sp/>1<sp/>;</highlight></codeline>
<codeline lineno="288"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>key<sp/><sp/>;</highlight></codeline>
<codeline lineno="289"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>val<sp/>;</highlight></codeline>
<codeline lineno="290"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>readval<sp/>;</highlight></codeline>
<codeline lineno="291"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>expected_rc<sp/>;</highlight></codeline>
<codeline lineno="292"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>c<sp/>;</highlight></codeline>
<codeline lineno="293"><highlight class="normal"></highlight></codeline>
<codeline lineno="294"><highlight class="normal"><sp/><sp/>BuddyInit(<sp/>NULL<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="295"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="296"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>(<sp/>astrkey<sp/>=<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)<ref refid="test__configurable__hash_8c_1d6b7282e7c215186f8514097b04d5bfa" kindref="member">Mem_Alloc</ref>(<sp/><ref refid="test__cmchash_8c_103d9dd35a7b43ebc597de16d46a0e845" kindref="member">MAXTEST</ref><sp/>*<sp/><ref refid="test__configurable__hash_8c_129e632a035b9d4c4b6225bb936eb8097" kindref="member">STRSIZE</ref><sp/>)<sp/>)<sp/>==<sp/>NULL<sp/>)</highlight></codeline>
<codeline lineno="297"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="298"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;Test<sp/>ECHOUE<sp/>:<sp/>Pb<sp/>de<sp/>Mem_Alloc<sp/>:<sp/>keys,<sp/>BuddyErrno<sp/>=<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>BuddyErrno<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="299"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="300"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="301"><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>(<sp/>astrval<sp/>=<sp/>(</highlight><highlight class="keywordtype">char</highlight><highlight class="normal"><sp/>*)<ref refid="test__configurable__hash_8c_1d6b7282e7c215186f8514097b04d5bfa" kindref="member">Mem_Alloc</ref>(<sp/><ref refid="test__cmchash_8c_103d9dd35a7b43ebc597de16d46a0e845" kindref="member">MAXTEST</ref><sp/>*<sp/>STRSIZE<sp/>)<sp/>)<sp/>==<sp/>NULL<sp/>)</highlight></codeline>
<codeline lineno="302"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="303"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;Test<sp/>ECHOUE<sp/>:<sp/>Pb<sp/>de<sp/>Mem_Alloc<sp/>:<sp/>values,<sp/>BuddyErrno<sp/>=<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>BuddyErrno<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="304"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="305"><highlight class="normal"></highlight></codeline>
<codeline lineno="306"><highlight class="normal"><sp/><sp/>hparam.index_size<sp/>=<sp/><ref refid="test__cmchash_8c_1c4add2a227a10511e0128d63952030e8" kindref="member">PRIME</ref><sp/>;</highlight></codeline>
<codeline lineno="307"><highlight class="normal"><sp/><sp/>hparam.alphabet_length<sp/>=<sp/>STRSIZE<sp/>;</highlight></codeline>
<codeline lineno="308"><highlight class="normal"><sp/><sp/>hparam.nb_node_prealloc<sp/>=<sp/><ref refid="test__cmchash_8c_186ddf7c36b9a7e599bb04786c61b0370" kindref="member">NB_PREALLOC</ref><sp/>;</highlight></codeline>
<codeline lineno="309"><highlight class="normal"><sp/><sp/>hparam.hash_func_key<sp/>=<sp/><ref refid="group__HashTableInternalFunctions_1gf42a323dd4a2c336ce843bddf643be43" kindref="member">simple_hash_func</ref><sp/>;</highlight></codeline>
<codeline lineno="310"><highlight class="normal"><sp/><sp/>hparam.hash_func_rbt<sp/>=<sp/><ref refid="group__HashTableInternalFunctions_1g1aca4ae1fbd881eb69310b3a18375321" kindref="member">rbt_hash_func</ref><sp/>;</highlight></codeline>
<codeline lineno="311"><highlight class="normal"><sp/><sp/>hparam.compare_key<sp/>=<sp/><ref refid="test__cmchash_8c_1f183d0c5e0c482d0f02845db8a2f785c" kindref="member">compare_string_buffer</ref><sp/>;</highlight></codeline>
<codeline lineno="312"><highlight class="normal"><sp/><sp/>hparam.key_to_str<sp/>=<sp/><ref refid="test__cmchash_8c_1d9a0e7d500dc83e14095e7c90c40c5b9" kindref="member">display_buff</ref><sp/>;</highlight></codeline>
<codeline lineno="313"><highlight class="normal"><sp/><sp/>hparam.val_to_str<sp/>=<sp/><ref refid="test__cmchash_8c_1d9a0e7d500dc83e14095e7c90c40c5b9" kindref="member">display_buff</ref><sp/>;</highlight></codeline>
<codeline lineno="314"><highlight class="normal"></highlight></codeline>
<codeline lineno="315"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*<sp/>Init<sp/>de<sp/>la<sp/>table<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="316"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>(<sp/>ht<sp/>=<sp/><ref refid="group__HashTableExportedFunctions_1gb4e795677661542fc1a84e0ffd9ec41d" kindref="member">HashTable_Init</ref>(<sp/>hparam<sp/>)<sp/>)<sp/>==<sp/>NULL<sp/>)</highlight></codeline>
<codeline lineno="317"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="318"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;Test<sp/>ECHOUE<sp/>:<sp/>Mauvaise<sp/>init\n&quot;</highlight><highlight class="normal"><sp/>)<sp/>;</highlight></codeline>
<codeline lineno="319"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>exit(<sp/>1<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="320"><highlight class="normal"><sp/><sp/><sp/><sp/>}<sp/><sp/></highlight></codeline>
<codeline lineno="321"><highlight class="normal"></highlight></codeline>
<codeline lineno="322"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<sp/>i<sp/>=<sp/>0<sp/>;<sp/>i<sp/>&lt;<sp/><ref refid="test__cmchash_8c_103d9dd35a7b43ebc597de16d46a0e845" kindref="member">MAXTEST</ref><sp/>;<sp/>i++<sp/>)</highlight></codeline>
<codeline lineno="323"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="324"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(<sp/>(astrkey<sp/>+<sp/>STRSIZE*i<sp/>),<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>i<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="325"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>sprintf(<sp/>(astrval<sp/>+<sp/>STRSIZE*i<sp/>),<sp/></highlight><highlight class="stringliteral">&quot;%d&quot;</highlight><highlight class="normal">,<sp/>i*10<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="326"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="327"><highlight class="normal"></highlight></codeline>
<codeline lineno="328"><highlight class="normal"><sp/><sp/>MesureTemps(&amp;debut,<sp/>NULL);<sp/></highlight></codeline>
<codeline lineno="329"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">for</highlight><highlight class="normal">(<sp/>i<sp/>=<sp/>0<sp/>;<sp/>i<sp/>&lt;<sp/>MAXTEST<sp/>;<sp/>i++<sp/>)</highlight></codeline>
<codeline lineno="330"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="331"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>buffkey.len<sp/><sp/>=<sp/>strlen(<sp/>astrkey<sp/>+<sp/>STRSIZE*i<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="332"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>buffkey.pdata<sp/>=<sp/>astrkey<sp/>+<sp/>STRSIZE*i<sp/>;</highlight></codeline>
<codeline lineno="333"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="334"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>buffval.len<sp/><sp/><sp/>=<sp/>strlen(<sp/>astrval<sp/>+<sp/>STRSIZE*i<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="335"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>buffval.pdata<sp/>=<sp/>astrval<sp/>+<sp/>STRSIZE*i<sp/>;</highlight></codeline>
<codeline lineno="336"><highlight class="normal"></highlight></codeline>
<codeline lineno="337"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>hrc<sp/>=<sp/>HashTable_Set(<sp/>ht,<sp/>&amp;buffkey,<sp/>&amp;buffval<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="338"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>hrc<sp/>!=<sp/>HASHTABLE_SUCCESS<sp/>)</highlight></codeline>
<codeline lineno="339"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="340"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;Test<sp/>ECHOUE<sp/>:<sp/>Insertion<sp/>d&apos;une<sp/>nouvelle<sp/>entree<sp/>impossible<sp/>:<sp/>%d,<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>i,<sp/>hrc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="341"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>exit(<sp/>1<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="342"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="343"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="344"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_FULL_DEBUG</highlight></codeline>
<codeline lineno="345"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;Ajout<sp/>de<sp/>(%s,%s)<sp/>,<sp/>sortie<sp/>=<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>astrkey<sp/>+<sp/>STRSIZE*i,<sp/>astrval<sp/>+<sp/>STRSIZE*i,<sp/>rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="346"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="347"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="348"><highlight class="normal"><sp/><sp/>MesureTemps(&amp;fin,<sp/>&amp;debut);</highlight></codeline>
<codeline lineno="349"><highlight class="normal"><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;Ajout<sp/>de<sp/>%d<sp/>entrees<sp/>en<sp/>%s<sp/>secondes\n&quot;</highlight><highlight class="normal">,<sp/>MAXTEST,<sp/>ConvertiTempsChaine(fin,<sp/>NULL)<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="350"><highlight class="normal"><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;====================================================\n&quot;</highlight><highlight class="normal"><sp/>)<sp/>;</highlight></codeline>
<codeline lineno="351"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="352"><highlight class="normal"></highlight><highlight class="preprocessor">#ifdef<sp/>_FULL_DEBUG</highlight></codeline>
<codeline lineno="353"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/><ref refid="group__HashTableExportedFunctions_1g8403154cc1223657b499272deef394ae" kindref="member">HashTable_Print</ref>(<sp/>ht<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="354"><highlight class="normal"><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;====================================================\n&quot;</highlight><highlight class="normal"><sp/>)<sp/>;</highlight></codeline>
<codeline lineno="355"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight></codeline>
<codeline lineno="356"><highlight class="preprocessor"></highlight><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="357"><highlight class="normal"><sp/><sp/></highlight><highlight class="comment">/*</highlight></codeline>
<codeline lineno="358"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="359"><highlight class="comment"><sp/><sp/><sp/>*<sp/>La<sp/>syntaxe<sp/>d&apos;un<sp/>test<sp/>est<sp/></highlight></codeline>
<codeline lineno="360"><highlight class="comment"><sp/><sp/><sp/>*<sp/>&apos;g<sp/>key<sp/>val<sp/>rc&apos;<sp/>:<sp/>cherche<sp/>la<sp/>valeur<sp/>associee<sp/>a<sp/>key,<sp/>s&apos;attend<sp/>a<sp/>lire<sp/>val<sp/>avec<sp/>le<sp/>status<sp/>rc</highlight></codeline>
<codeline lineno="361"><highlight class="comment"><sp/><sp/><sp/>*<sp/>&apos;s<sp/>key<sp/>val<sp/>rc&apos;<sp/>:<sp/>positionne<sp/>Hash(key)<sp/>=<sp/>val,<sp/>s&apos;attend<sp/>a<sp/>avoir<sp/>le<sp/>status<sp/>rc</highlight></codeline>
<codeline lineno="362"><highlight class="comment"><sp/><sp/><sp/>*<sp/>&apos;n<sp/>key<sp/>val<sp/>rc&apos;<sp/>:<sp/>idem<sp/>a<sp/>&apos;s&apos;<sp/>mais<sp/>cree<sp/>une<sp/>nouvelle<sp/>entree<sp/>sans<sp/>en<sp/>ecraser<sp/>une<sp/>deja<sp/>existante</highlight></codeline>
<codeline lineno="363"><highlight class="comment"><sp/><sp/><sp/>*<sp/>&apos;t<sp/>key<sp/>val<sp/>rc&apos;<sp/>:<sp/>se<sp/>contente<sp/>de<sp/>tester<sp/>si<sp/>la<sp/>clef<sp/>&apos;key&apos;<sp/>existe<sp/>dans<sp/>le<sp/>HASH,<sp/>avec<sp/>le<sp/>status<sp/>rc<sp/>(val<sp/>ne<sp/>sert<sp/>a<sp/>rien)</highlight></codeline>
<codeline lineno="364"><highlight class="comment"><sp/><sp/><sp/>*<sp/>&apos;d<sp/>key<sp/>val<sp/>rc&apos;<sp/>:<sp/>detruit<sp/>HASH(key),<sp/>s&apos;attend<sp/>a<sp/>avoir<sp/>le<sp/>status<sp/>rc<sp/>(val<sp/>ne<sp/>sert<sp/>a<sp/>rien)</highlight></codeline>
<codeline lineno="365"><highlight class="comment"><sp/><sp/><sp/>*<sp/>&apos;p<sp/>key<sp/>val<sp/>rc&apos;<sp/>:<sp/>imprime<sp/>le<sp/>HASH<sp/>(key,<sp/>val<sp/>et<sp/>rc<sp/>ne<sp/>servent<sp/>a<sp/>rien).</highlight></codeline>
<codeline lineno="366"><highlight class="comment"><sp/><sp/><sp/>*<sp/></highlight></codeline>
<codeline lineno="367"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Une<sp/>ligne<sp/>qui<sp/>debute<sp/>par<sp/>&apos;#&apos;<sp/>est<sp/>un<sp/>commentaire</highlight></codeline>
<codeline lineno="368"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Une<sp/>ligne<sp/>qui<sp/>debute<sp/>par<sp/>un<sp/>espace<sp/>ou<sp/>un<sp/>tab<sp/>est<sp/>une<sp/>ligne<sp/>vide<sp/>[meme<sp/>si<sp/>il<sp/>y<sp/>a<sp/>des<sp/>trucs<sp/>derriere..<sp/>:-(<sp/>]</highlight></codeline>
<codeline lineno="369"><highlight class="comment"><sp/><sp/><sp/>*<sp/>Une<sp/>ligne<sp/>vide<sp/>(juste<sp/>un<sp/>CR)<sp/>est<sp/>une<sp/>ligne<sp/>vide<sp/>(cette<sp/>citation<sp/>a<sp/>recu<sp/>le<sp/>Premier<sp/>Prix<sp/>lors<sp/>du<sp/>Festival<sp/>International<sp/></highlight></codeline>
<codeline lineno="370"><highlight class="comment"><sp/><sp/><sp/>*<sp/>de<sp/>la<sp/>Tautologie<sp/>de<sp/>Langue<sp/>Francaise<sp/>(PFITLF),<sp/>a<sp/>Poully<sp/>le<sp/>Marais,<sp/>en<sp/>Aout<sp/>2004)</highlight></codeline>
<codeline lineno="371"><highlight class="comment"><sp/><sp/><sp/>*</highlight></codeline>
<codeline lineno="372"><highlight class="comment"><sp/><sp/><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="373"><highlight class="normal"></highlight></codeline>
<codeline lineno="374"><highlight class="normal"><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;============<sp/>Debut<sp/>de<sp/>l&apos;interactif<sp/>=================\n&quot;</highlight><highlight class="normal"><sp/>)<sp/>;</highlight></codeline>
<codeline lineno="375"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="376"><highlight class="normal"><sp/><sp/></highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(<sp/>ok<sp/>)<sp/></highlight></codeline>
<codeline lineno="377"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="378"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Code<sp/>interactif,<sp/>pompe<sp/>sur<sp/>le<sp/>test<sp/>rbt<sp/>de<sp/>Jacques<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="379"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/>fputs(</highlight><highlight class="stringliteral">&quot;&gt;<sp/>&quot;</highlight><highlight class="normal">,<sp/>stdout);</highlight></codeline>
<codeline lineno="380"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>(<sp/>p<sp/>=<sp/>fgets(buf,<sp/><ref refid="test__configurable__hash_8c_1799f2d62ff1a8069195e037a3b7905ae" kindref="member">LENBUF</ref>,<sp/>stdin)<sp/>)<sp/>==<sp/>NULL<sp/>)<sp/></highlight></codeline>
<codeline lineno="381"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="382"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(</highlight><highlight class="stringliteral">&quot;fin<sp/>des<sp/>commandes\n&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="383"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ok<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="384"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">continue</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="385"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="386"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>(<sp/>p<sp/>=<sp/>strchr(buf,<sp/></highlight><highlight class="charliteral">&apos;\n&apos;</highlight><highlight class="normal">)<sp/>)<sp/>!=<sp/>NULL<sp/>)</highlight></codeline>
<codeline lineno="387"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>*p<sp/>=<sp/></highlight><highlight class="charliteral">&apos;\0&apos;</highlight><highlight class="normal"><sp/>;</highlight></codeline>
<codeline lineno="388"><highlight class="normal"></highlight></codeline>
<codeline lineno="389"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>rc<sp/>=<sp/>sscanf(buf,<sp/></highlight><highlight class="stringliteral">&quot;%c<sp/>%d<sp/>%d<sp/>%d&quot;</highlight><highlight class="normal">,<sp/>&amp;c,<sp/>&amp;key,<sp/>&amp;val,<sp/>&amp;expected_rc)<sp/>;</highlight></codeline>
<codeline lineno="390"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>c<sp/>==<sp/></highlight><highlight class="charliteral">&apos;#&apos;</highlight><highlight class="normal"><sp/>)</highlight></codeline>
<codeline lineno="391"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="392"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>#<sp/>indique<sp/>un<sp/>commentaire<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="393"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue<sp/>;</highlight></codeline>
<codeline lineno="394"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="395"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>c<sp/>==<sp/></highlight><highlight class="charliteral">&apos;<sp/>&apos;</highlight><highlight class="normal"><sp/>||<sp/>c<sp/>==<sp/></highlight><highlight class="charliteral">&apos;\t&apos;</highlight><highlight class="normal"><sp/>||<sp/>rc<sp/>==<sp/>-1<sp/>)</highlight></codeline>
<codeline lineno="396"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="397"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Cas<sp/>d&apos;une<sp/>ligne<sp/>vide<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="398"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>rc<sp/>&gt;<sp/>1<sp/>)</highlight></codeline>
<codeline lineno="399"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;Erreur<sp/>de<sp/>syntaxe<sp/>:<sp/>mettre<sp/>un<sp/>diese<sp/>au<sp/>debut<sp/>d&apos;un<sp/>commentaire\n&quot;</highlight><highlight class="normal"><sp/>)<sp/>;</highlight></codeline>
<codeline lineno="400"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="401"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue<sp/>;</highlight></codeline>
<codeline lineno="402"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="403"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="404"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="405"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>rc<sp/>!=<sp/>4<sp/>)</highlight></codeline>
<codeline lineno="406"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="407"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;Erreur<sp/>de<sp/>syntaxe<sp/>:<sp/>sscanf<sp/>retourne<sp/>%d<sp/>au<sp/>lieu<sp/>de<sp/>4\n&quot;</highlight><highlight class="normal">,<sp/>rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="408"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>continue<sp/>;</highlight></codeline>
<codeline lineno="409"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="410"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;---&gt;<sp/>%c<sp/>%d<sp/>%d<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>c,<sp/>key,<sp/>val,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="411"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="412"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="413"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">switch</highlight><highlight class="normal">(<sp/>c<sp/>)<sp/></highlight></codeline>
<codeline lineno="414"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="415"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;s&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="416"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>overwrite<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="417"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;set<sp/><sp/>%d<sp/>%d<sp/>--&gt;<sp/>%d<sp/>?\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="418"><highlight class="normal"></highlight></codeline>
<codeline lineno="419"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hrc<sp/>=<sp/><ref refid="test__configurable__hash_8c_120e86e8b8ecadf6a9b33b9a17287699a" kindref="member">do_set</ref>(<sp/>ht,<sp/>key,<sp/>val<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="420"><highlight class="normal"></highlight></codeline>
<codeline lineno="421"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>hrc<sp/>!=<sp/>expected_rc<sp/>)<sp/></highlight></codeline>
<codeline lineno="422"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>ERREUR:<sp/>set<sp/><sp/>%d<sp/>%d:<sp/>%d<sp/>!=<sp/>%d<sp/>(expected)\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val,<sp/>hrc,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="423"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="424"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>OK<sp/>set<sp/><sp/>%d<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="425"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break<sp/>;</highlight></codeline>
<codeline lineno="426"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="427"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;t&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="428"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>test<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="429"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;test<sp/>%d<sp/>%d<sp/>--&gt;<sp/>%d<sp/>?\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="430"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="431"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hrc<sp/>=<sp/><ref refid="test__configurable__hash_8c_19cdbf52d290b3c15a7498a6f6f5c76a1" kindref="member">do_test</ref>(<sp/>ht,<sp/>key<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="432"><highlight class="normal"></highlight></codeline>
<codeline lineno="433"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>hrc<sp/>!=<sp/>expected_rc<sp/>)<sp/></highlight></codeline>
<codeline lineno="434"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>ERREUR:<sp/>test<sp/>%d<sp/>:<sp/>%d<sp/>!=<sp/>%d<sp/>(expected)\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>hrc,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="435"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="436"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>OK<sp/>test<sp/>%d<sp/>\n&quot;</highlight><highlight class="normal">,<sp/>key<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="437"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break<sp/>;</highlight></codeline>
<codeline lineno="438"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="439"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;n&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="440"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>set<sp/>no<sp/>overwrite<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="441"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;new<sp/><sp/>%d<sp/>%d<sp/>--&gt;<sp/>%d<sp/>?\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="442"><highlight class="normal"></highlight></codeline>
<codeline lineno="443"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hrc<sp/>=<sp/><ref refid="test__configurable__hash_8c_1cf576a787ddf26b8190fa8dcf589ba81" kindref="member">do_new</ref>(<sp/>ht,<sp/>key,<sp/>val<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="444"><highlight class="normal"></highlight></codeline>
<codeline lineno="445"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>hrc<sp/>!=<sp/>expected_rc<sp/>)<sp/></highlight></codeline>
<codeline lineno="446"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>ERREUR:<sp/>new<sp/><sp/>%d<sp/>%d:<sp/>%d<sp/>!=<sp/>%d<sp/>(expected)\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val,<sp/>hrc,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="447"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="448"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>OK<sp/>new<sp/><sp/>%d<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="449"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break<sp/>;</highlight></codeline>
<codeline lineno="450"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="451"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;g&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="452"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>get<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="453"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;get<sp/><sp/>%d<sp/>%d<sp/>--&gt;<sp/>%d<sp/>?\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="454"><highlight class="normal"></highlight></codeline>
<codeline lineno="455"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hrc<sp/>=<sp/><ref refid="test__configurable__hash_8c_13bffceb3f720af7648080322f59db3a6" kindref="member">do_get</ref>(<sp/>ht,<sp/>key,<sp/>&amp;readval<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="456"><highlight class="normal"></highlight></codeline>
<codeline lineno="457"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>hrc<sp/>!=<sp/>expected_rc<sp/>)<sp/></highlight></codeline>
<codeline lineno="458"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>ERREUR:<sp/>get<sp/><sp/>%d<sp/>%d:<sp/>%d<sp/>!=<sp/>%d<sp/>(expected)\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val,<sp/>hrc,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="459"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="460"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="461"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>hrc<sp/>==<sp/>HASHTABLE_SUCCESS<sp/>)</highlight></codeline>
<codeline lineno="462"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="463"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>val<sp/>!=<sp/>readval<sp/>)</highlight></codeline>
<codeline lineno="464"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>ERREUR:<sp/>get<sp/>%d<sp/>Mauvaise<sp/>valeur<sp/>lue<sp/>:<sp/>%d<sp/>!=<sp/>%d<sp/>(expected)\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>readval,<sp/>val<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="465"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="466"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>OK<sp/>get<sp/><sp/>%d<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="467"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="468"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="469"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break<sp/>;</highlight></codeline>
<codeline lineno="470"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="471"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;d&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="472"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>del<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="473"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;del<sp/><sp/>%d<sp/>%d<sp/>--&gt;<sp/>%d<sp/>?\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="474"><highlight class="normal"></highlight></codeline>
<codeline lineno="475"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>hrc<sp/>=<sp/><ref refid="test__configurable__hash_8c_1ec7e06cf1eb3d581149a1f9f9efa989f" kindref="member">do_del</ref>(<sp/>ht,<sp/>key<sp/>)<sp/>;<sp/></highlight></codeline>
<codeline lineno="476"><highlight class="normal"></highlight></codeline>
<codeline lineno="477"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>hrc<sp/>!=<sp/>expected_rc<sp/>)<sp/></highlight></codeline>
<codeline lineno="478"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>ERREUR:<sp/>del<sp/><sp/>%d<sp/><sp/>%d<sp/>!=<sp/>%d<sp/>(expected)\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>hrc,<sp/>expected_rc<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="479"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="480"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;&gt;&gt;&gt;&gt;<sp/>OK<sp/>del<sp/><sp/>%d<sp/>%d\n&quot;</highlight><highlight class="normal">,<sp/>key,<sp/>val<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="481"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="482"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break<sp/>;</highlight></codeline>
<codeline lineno="483"><highlight class="normal"></highlight></codeline>
<codeline lineno="484"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">case</highlight><highlight class="normal"><sp/></highlight><highlight class="charliteral">&apos;p&apos;</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="485"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Print<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="486"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><ref refid="group__HashTableExportedFunctions_1g8403154cc1223657b499272deef394ae" kindref="member">HashTable_Print</ref>(<sp/>ht<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="487"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break<sp/>;</highlight></codeline>
<codeline lineno="488"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="489"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="490"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">default</highlight><highlight class="normal">:</highlight></codeline>
<codeline lineno="491"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>syntaxe<sp/>error<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="492"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;ordre<sp/>&apos;%c&apos;<sp/>non-reconnu\n&quot;</highlight><highlight class="normal">,<sp/>c<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="493"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>break<sp/>;</highlight></codeline>
<codeline lineno="494"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="495"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="496"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fflush(<sp/>stdin<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="497"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="498"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="499"><highlight class="normal"><sp/><sp/>BuddyDumpMem(<sp/>stderr<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="500"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="501"><highlight class="normal"><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;====================================================\n&quot;</highlight><highlight class="normal"><sp/>)<sp/>;</highlight></codeline>
<codeline lineno="502"><highlight class="normal"><sp/><sp/>printf(<sp/></highlight><highlight class="stringliteral">&quot;Test<sp/>reussi<sp/>:<sp/>tous<sp/>les<sp/>tests<sp/>sont<sp/>passes<sp/>avec<sp/>succes\n&quot;</highlight><highlight class="normal"><sp/>)<sp/>;</highlight></codeline>
<codeline lineno="503"><highlight class="normal"><sp/><sp/></highlight></codeline>
<codeline lineno="504"><highlight class="normal"><sp/><sp/>exit(<sp/>0<sp/>)<sp/>;</highlight></codeline>
<codeline lineno="505"><highlight class="normal">}</highlight></codeline>
    </programlisting>
    <location file="/export/GANESHA/src/HashTable/test_configurable_hash.c"/>
  </compounddef>
</doxygen>
